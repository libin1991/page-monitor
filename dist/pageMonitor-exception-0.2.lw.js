~function(e){function r(e){var r=/(chrome)\/(\d+\.\d)/,n=/(\d+\.\d)?(?:\.\d)?\s+safari\/?(\d+\.\d+)?/,o=/(opera)(?:.*version)?[ \/]([\w.]+)/,t=/(msie) ([\w.]+)/,i=/(mozilla)(?:.*? rv:([\w.]+))?/;e=e.toLowerCase();var a=r.exec(e)||o.exec(e)||t.exec(e)||e.indexOf("compatible")<0&&i.exec(e)||[];return n.exec(e)&&!/chrome/.test(e)&&(a[1]="safari",a[2]=RegExp.$1||RegExp.$2),{browser:a[1]||"unknown",version:a[2]||"0"}}function n(){for(var e=document.body.childNodes,r="",n=e.length-1;n>=0;n--)if(e[n].nodeType==document.COMMENT_NODE){r=e[n].textContent;break}return r}function o(e){if(!e||Array.isArray(e)&&!e.length)return!0;var r=!1;return Array.isArray(e)&&e.some(function(e,n){var o=new RegExp(e);if(o.test(a.href))return r=!0,!0}),r}function t(e,r){var n={};for(var o in e)e.hasOwnProperty(o)&&(n[o]=e[o]);
for(var t in r)r.hasOwnProperty(t)&&(n[t]=r[t]);return n}var i=e.navigator,a=e.location,c=e.screen,f=e.document,u=e.BDWMMonitor||{};u.url="//log.waimai.baidu.com/static/exceptionjs.gif?",u.beforeReport=function(e,r){return r},u.init=function(e,t){u._conf={platform:t.platform,app:t.app,channel:t.channel,pageid:t.pageid||0,traceCode:""},t.url?u.url=t.url:null,t.beforeReport?u.beforeReport=t.beforeReport:null,o(t.pageWhiteList)&&e.forEach(function(e,r){u.use(e)});var a=function(){u._conf.traceCode=n()};window.addEventListener("DOMContentLoaded",function(){a(),window.removeEventListener("DOMContentLoaded",a)});var f=r(i.userAgent),d=c.width+"*"+c.height+"|"+c.availWidth+"*"+c.availHeight;"pc"===t.channel&&(u._conf.browser=f.browser+"|"+f.version),u._conf._screen=d},u._module={},u.define=function(e,r){
if(u._module[e])throw new Error(e+" Already defined");u._module[e]=r()},u.report=function(e,r){if(u.url&&e&&r){if(r=u.beforeReport(e,r),!r)throw new Error("Report data is empty");var n=u._conf;if(!n.app||!n.channel||!n.platform)throw new Error("Global report data fragmentary");r=t(n,r);var o=f.createElement("img"),i=u.url,a=[];for(var c in r)a.push(c+"="+encodeURIComponent(r[c]));var d="img_"+ +new Date;u[d]=o,o.onload=o.onerror=function(){u[d]=o=o.onload=o.onerror=null,delete u[d]},o.src=i+(i.indexOf("?")<0?"?":"&")+a.join("&")}},u.error=function(e){u.report("exception",e)},u.use=function(e){u._module[e]&&u._module[e].run()},e.BDWMMonitor=u}(window),function(e){var r=e.BDWMMonitor,n=window.location;r.define("exception",function(){return{run:function(){this.catchException()},catchException:function(){
function e(e){var r=e.stack.replace(/\n/gi,"").split(/\bat\b/).slice(0,9).join("@").replace(/\?[^:]+/gi,""),n=e.toString();return r.indexOf(n)<0&&(r=n+"@"+r),r}window.onerror=function(o,t,i,a,c){var f=o;c&&c.stack&&(f=e(c)),r.report("exception",{tag:"js_error",err_txt:f,url:t,purl:n.href,ln:i,col:a,err_status:401})}}}})}(window);