~function(e){function r(e){var r=/(chrome)\/(\d+\.\d)/,n=/(\d+\.\d)?(?:\.\d)?\s+safari\/?(\d+\.\d+)?/,o=/(opera)(?:.*version)?[ \/]([\w.]+)/,t=/(msie) ([\w.]+)/,i=/(mozilla)(?:.*? rv:([\w.]+))?/;e=e.toLowerCase();var a=r.exec(e)||o.exec(e)||t.exec(e)||e.indexOf("compatible")<0&&i.exec(e)||[];return n.exec(e)&&!/chrome/.test(e)&&(a[1]="safari",a[2]=RegExp.$1||RegExp.$2),{browser:a[1]||"unknown",version:a[2]||"0"}}function n(){for(var e=document.body.childNodes,r="",n=e.length-1;n>=0;n--)if(e[n].nodeType==document.COMMENT_NODE){r=e[n].textContent;break}return r}function o(e){var r=!1;return Array.isArray(e)?(e.some(function(e,n){e.test(a.href)&&(r=!0)}),e.length?null:r=!0):r=e==a.href,r}function t(e,r){var n={};for(var o in e)e.hasOwnProperty(o)&&(n[o]=e[o]);for(var t in r)r.hasOwnProperty(t)&&(n[t]=r[t]);
return n}var i=e.navigator,a=e.location,c=e.screen,f=e.document,d=e.BDWMMonitor||{};d.url="//log.waimai.baidu.com/static/exceptionjs.gif?",d.beforeReport=function(e,r){return r},d.init=function(e,t){d._conf={platform:t.platform,app:t.app,channel:t.channel,pageid:t.pageid||0,traceCode:""},t.url?d.url=t.url:null,t.beforeReport?d.beforeReport=t.beforeReport:null,o(t.pageWhiteList)&&e.forEach(function(e,r){d.use(e)});var a=function(){d._conf.traceCode=n()};window.addEventListener("DOMContentLoaded",function(){a(),window.removeEventListener("DOMContentLoaded",a)});var f=r(i.userAgent),u=c.width+"*"+c.height+"|"+c.availWidth+"*"+c.availHeight;"pc"===t.channel&&(d._conf.browser=f.browser+"|"+f.version),d._conf._screen=u},d._module={},d.define=function(e,r){if(d._module[e])throw new Error(e+" Already defined");
d._module[e]=r()};var u={timing:1,exception:2,resource:1,perf:1};d.report=function(e,r){if(d.url&&e&&r){if(r.r_t=u[e]||1,r=d.beforeReport(e,r),!r)throw new Error("Report data is empty");var n=d._conf;if(!n.app||!n.channel||!n.platform)throw new Error("Global report data fragmentary");r=t(n,r);var o=f.createElement("img"),i=d.url,a=[];for(var c in r)a.push(c+"="+encodeURIComponent(r[c]));var l="img_"+ +new Date;d[l]=o,o.onload=o.onerror=function(){d[l]=o=o.onload=o.onerror=null,delete d[l]},o.src=i+(i.indexOf("?")<0?"?":"&")+a.join("&")}},d.error=function(e){d.report("exception",e)},d.use=function(e){d._module[e]&&d._module[e].run()},e.BDWMMonitor=d}(window);